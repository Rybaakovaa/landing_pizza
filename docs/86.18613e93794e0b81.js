"use strict";(self.webpackChunkpizza=self.webpackChunkpizza||[]).push([[86],{86:(y,a,n)=>{n.r(a),n.d(a,{ProductsModule:()=>Z});var d=n(6895),u=n(8869),m=n(8505),t=n(4650),C=n(773),p=n(5237),v=n(529);let l=(()=>{class o{constructor(r){this.cartService=r,this.count=0}getCommonCount(){return this.count+"/"+this.cartService.count}}return o.\u0275fac=function(r){return new(r||o)(t.LFG(p.N))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),h=(()=>{class o{constructor(r){this.cartProduct=r,this.addToCartEvent=new t.vpe,this.product={image:"",title:"",description:""}}ngOnInit(){}addProductToCart(){this.cartProduct.count++,this.addToCartEvent.emit(this.product)}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(l))},o.\u0275cmp=t.Xpm({type:o,selectors:[["product-cart"]],inputs:{product:"product"},outputs:{addToCartEvent:"addToCartEvent"},features:[t._Bn([l])],decls:10,vars:3,consts:[[1,"product"],[1,"product-img"],["alt","Product pizza",3,"src"],[1,"product-title"],[1,"product-text"],[1,"product-action"],[1,"btn","btn-add-to-cart",3,"click"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"img",2),t.qZA(),t.TgZ(3,"div",3),t._uU(4),t.qZA(),t.TgZ(5,"div",4),t._uU(6),t.qZA(),t.TgZ(7,"div",5)(8,"button",6),t.NdJ("click",function(){return e.addProductToCart()}),t._uU(9,"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"),t.qZA()()()),2&r&&(t.xp6(2),t.s9C("src",e.product.image,t.LSH),t.xp6(2),t.Oqu(e.product.title),t.xp6(2),t.Oqu(e.product.description))},styles:[".product[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 3px 14px 1px #98989833;width:282px;text-align:center;padding:15px 20px;box-sizing:border-box}.product-img[_ngcontent-%COMP%]{height:180px;display:flex;align-items:center;justify-content:center}.product-title[_ngcontent-%COMP%]{font-size:18px;font-family:MullerBold,sans-serif;color:#382400}.product-text[_ngcontent-%COMP%]{font-size:14px;color:#181a1a;line-height:1.286;height:49px;margin:14px 0 15px}.product-action[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:242px;height:50px;padding:17px}@media screen and (max-width: 1023px){.products[_ngcontent-%COMP%]{padding-top:0;padding-bottom:40px}}"]}),o})();function f(o,c){if(1&o){const r=t.EpF();t.TgZ(0,"product-cart",6),t.NdJ("addToCartEvent",function(){const s=t.CHM(r).$implicit,M=t.oxw();return t.KtG(M.addToCart(s.title))}),t.qZA()}2&o&&t.Q6J("product",c.$implicit)}function P(o,c){1&o&&(t.TgZ(0,"div",7),t._UZ(1,"div",8),t.qZA())}const x=[{path:"",component:(()=>{class o{constructor(r,e,i,s){this.productService=r,this.cartService=e,this.router=i,this.http=s,this.loading=!1,this.products=[]}ngOnInit(){this.loading=!0,this.productService.getProducts().pipe((0,m.b)(()=>{this.loading=!1})).subscribe({next:r=>{this.products=r},error:r=>{console.log(r),this.router.navigate(["/"])}})}addToCart(r){this.cartService.product=r,this.router.navigate(["/order"],{queryParams:{product:r}})}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(C.M),t.Y36(p.N),t.Y36(u.F0),t.Y36(v.eN))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-products"]],decls:7,vars:2,consts:[["id","products",1,"products"],[1,"container"],["id","products-title",1,"products-title"],[1,"products-item"],[3,"product","addToCartEvent",4,"ngFor","ngForOf"],["class","loader-bg",4,"ngIf"],[3,"product","addToCartEvent"],[1,"loader-bg"],[1,"loader"]],template:function(r,e){1&r&&(t.TgZ(0,"section",0)(1,"div",1)(2,"h2",2),t._uU(3," \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0432\u043e\u044e \u043b\u044e\u0431\u0438\u043c\u0443\u044e \u043f\u0438\u0446\u0446\u0443 "),t.qZA(),t.TgZ(4,"div",3),t.YNc(5,f,1,1,"product-cart",4),t.qZA(),t.YNc(6,P,2,0,"div",5),t.qZA()()),2&r&&(t.xp6(5),t.Q6J("ngForOf",e.products),t.xp6(1),t.Q6J("ngIf",e.loading))},dependencies:[d.sg,d.O5,h]}),o})()}];let g=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[u.Bz.forChild(x),u.Bz]}),o})();var T=n(4466);let Z=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[d.ez,T.m,u.Bz,g,g]}),o})()}}]);